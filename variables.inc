; ============================================
; ПЕРЕМЕННЫЕ ДЛЯ МНОГОИГРОВОГО КАРТРИДЖА
; ============================================

.segment "ZEROPAGE"

; ============================================
; 1. ОРИГИНАЛЬНЫЕ ПЕРЕМЕННЫЕ (ТОЧНЫЕ АДРЕСА)
; ============================================
byte_E000:      .res 1    ; Используется в reset_handler
counter_3CB:    .res 1    ; Счётчик/флаг
var_3BD:        .res 1    ; Контроллер 1 (после sub_D01E)
var_3BE:        .res 1    ; Контроллер 2 (после sub_D01E)
var_3EF:        .res 1    ; Текущая страница меню (0-62)
var_3F0:        .res 1    ; Выбранный слот на странице (0-7)
var_3F6:        .res 1    ; Флаг/счётчик (сбрасывается в sub_FCBF)
var_3B0:        .res 1    ; Таймер/счётчик меню
var_3FB:        .res 1    ; Координата X меню
var_3FC:        .res 1    ; Координата Y меню
var_46D:        .res 1    ; Группа переменных
var_46E:        .res 1
var_46F:        .res 1
var_470:        .res 1

; ============================================
; 2. ПЕРЕМЕННЫЕ ДЛЯ УПРАВЛЕНИЯ МЕНЮ
; ============================================
menu_state:     .res 1    ; Состояние меню (0=просмотр, 1=запуск и т.д.)
frame_counter:  .res 1    ; Счётчик кадров для анимации
cursor_blink:   .res 1    ; Таймер мигания курсора
page_scroll:    .res 1    ; Позиция скроллинга страницы

; ============================================
; 3. ВРЕМЕННЫЕ ПЕРЕМЕННЫЕ
; ============================================
temp1:          .res 1
temp2:          .res 1
temp3:          .res 1
temp4:          .res 1

; ============================================
; 4. ДИНАМИЧЕСКИЕ ВЕКТОРЫ
; ============================================
vector_a000:    .res 2    ; Динамический вектор для JSR $A000

; ============================================
; 5. ДЛЯ ОТЛАДКИ/ТЕСТИРОВАНИЯ
; ============================================
debug_byte:     .res 1    ; Для отладочного вывода

.segment "BSS"

; ============================================
; 6. БУФЕРЫ И БОЛЬШИЕ ОБЛАСТИ
; ============================================
; Очищаются в reset_handler
ram_0000:       .res 256  ; $0000-$00FF
ram_0100:       .res 256  ; $0100-$01FF
ram_0200:       .res 256  ; $0200-$02FF
ram_0300:       .res 256  ; $0300-$03FF
ram_0400:       .res 256  ; $0400-$04FF (включая меню буфер $0407)
ram_0500:       .res 256  ; $0500-$05FF
ram_0600:       .res 256  ; $0600-$06FF
ram_0700:       .res 256  ; $0700-$07FF

; ============================================
; 7. OAM БУФЕР (СПРАЙТЫ)
; ============================================
.segment "OAM"
oam_buffer:     .res 256  ; 64 спрайта × 4 байта